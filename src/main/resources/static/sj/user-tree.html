<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>兰格商务</title>
<meta name="keywords" content="兰格商务" />
<meta name="description" content="兰格商务" />
<link rel="icon" href="/favicon.ico" mce_href="/favicon.ico" type="image/x-icon"/>
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />


<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-gl/echarts-gl.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>

<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/simplex.js"></script>
    <link rel="stylesheet" href="css/animate.min.css"/>
    <link rel="stylesheet" href="css/style.css"/>
    <script type="text/javascript" src="js/wow.min.js"></script>
    <link href="css/iconfont/RjdaoIcon.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
    <script type="text/javascript" src="js/slider.js"></script>
<script>
    //顶端图片抖动
    if (!(/msie [6|7|8|9]/i.test(navigator.userAgent))){
        new WOW().init();
    };
    $(function(){

    });
</script>
</head>

<body>
<div class="imgBannerModel wow flipInX">
    <img src="images/img3.jpg">
</div>
<div class="itemMain topm">
    <h2>直销商圈</h2>
</div>

<div class="applyOne" id="applyMain">
    <form id="addUser">
        <div class="txt" style="margin-top:30px;">密码：</div>
        <input type="text" id="secondPwd" name="secondPwd" required placeholder="二级密码" autocomplete="off" class="input">
        <div class="txt" style="margin-top:30px;">用户ID：</div>
        <input type="text" id="nodeUserId" name="nodeUserId" required placeholder="根用户ID可为空" autocomplete="off" class="input">
    </form>
    <input type="button" class="button" onclick="lookTree()" value="查   看">
</div>

<div id="container" style="height: 500%"></div>

<script type="text/javascript">

    function lookTree(){
        var secondPwd = document.getElementById("secondPwd").value;
        $.ajax({
            url:"../sj/tree/look?secondPwd="+secondPwd
            ,type:"GET"
            ,processData:false
            ,contentType:false
            ,success:function(data_resp){
                if('R000'==data_resp.resultCode){
                    initMyTree();
                }else if("R400"==data_resp.resultCode){
                    alert(data_resp.resultMsg);
                    window.location.href='login.html';
                }else {
                    alert(data_resp.resultMsg);
                }
            }
            ,error:function(e){
                alert("服务异常，请稍后再试！");
            }
        });
    };

    function initMyTree(){
        var nodeUserId = document.getElementById("nodeUserId").value;
        var dom = document.getElementById("container");
        var myChart = echarts.init(dom);
        var app = {};
        option = null;
        myChart.showLoading();
        $.get('../sj/tree/init?nodeUserId='+nodeUserId, function (data) {
            myChart.hideLoading();

            myChart.setOption(option = {
                tooltip: {
                    trigger: 'item',
                    triggerOn: 'mousemove'
                },
                series:[
                    {
                        type: 'tree',

                        data: [data],
                        initialTreeDepth:-1,
                        left: '2%',
                        right: '2%',
                        top: '8%',
                        bottom: '20%',

                        symbol: 'image://https://img-blog.csdnimg.cn/20190103102951391.png',
                        symbolSize:20,
                        orient: 'vertical',

                        expandAndCollapse: true,

                        label: {
                            normal: {
                                position: 'top',
                                rotate: -90,
                                verticalAlign: 'middle',
                                align: 'right',
                                fontSize: 12
                            }
                        },

                        leaves: {
                            label: {
                                normal: {
                                    position: 'bottom',
                                    rotate: -90,
                                    verticalAlign: 'middle',
                                    align: 'left'
                                }
                            }
                        },

                        animationDurationUpdate: 750
                    }
                ]
            });
        });
        ;
        if (option && typeof option === "object") {
            myChart.setOption(option, true);
        }
    }

</script>

<!---手机端底部 开始 --->
<div class="f-height"></div>
<footer>

    <a href="index.html" class="navname"><i class="icon-0449"></i><span>网站首页</span></a>
    <a href="JavaScript:void(0)" class="navname" style="background-color: Wheat"><i class="icon-0129"></i><span>我的商圈</span></a>
    <a href="user-income.html" class="navname" ><i class="icon-0132"></i><span>资产中心</span></a>
    <a href="user-index.html" class="navname"><i class="icon-0113"></i><span>我的投资</span></a>

</footer>
<!---手机端底部 结束 --->




</body>
</html>
